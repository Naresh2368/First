use strict;
use DBI;

# Get the mysql database connection 
my $dbh=DBI->connect('DBI:mysql:localdb','root','root123') or die "Could not Connect to the mysql database please check the crdentials".DBI->errstr;

&update();

#Update method is used for to Update the data into the database
sub update()
{

my %hashes = (EmpName =>'Nagaraj');

my %hashes1 = (EmpId =>2);

my $keystr = (join ",\n        ", (keys %hashes));
my $valstr = join ', ', (split(/ /, "? " x (scalar(values %hashes))));
my @values = values %hashes;

my $keystr1 = (join ",\n        ", (keys %hashes1));
my $valstr2 = join ', ', (split(/ /, "? " x (scalar(values %hashes1))));
my @values1 = values %hashes1;


my $query = qq`update employee set $keystr=$valstr where $keystr1=$valstr2`;

my $sth = $dbh->prepare($query) 
    or die "Can't prepare update: ".$dbh->errstr()."\n";
    
$sth->execute(@values,@values1)
    or die "Can't execute update: ".$dbh->errstr()."\n";
print "Successfully update data into the data base \n";
}
# close the connection
$dbh->disconnect;

